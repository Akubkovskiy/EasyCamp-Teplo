# –ê–Ω–∞–ª–∏–∑ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –†–æ–ª–∏ "–ì–æ—Å—Ç—å" (Guest Role)

## 1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
–°–∞–º—ã–π –∫—Ä–∏—Ç–∏—á–Ω—ã–π –º–æ–º–µ–Ω—Ç ‚Äî —Å–≤—è–∑–∞—Ç—å Telegram-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –±—Ä–æ–Ω—å—é –∏–∑ Avito/Database.

**–ü—Ä–æ–±–ª–µ–º–∞:** –í –±–∞–∑–µ –µ—Å—Ç—å `guest_phone` (—Å—Ç—Ä–æ–∫–∞ –∏–∑ Avito –∏–ª–∏ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞), –Ω–æ –Ω–µ—Ç Telegram ID.
**–†–µ—à–µ–Ω–∏–µ:** –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ **Sharing Contact**.

### –°—Ü–µ–Ω–∞—Ä–∏–π –≤—Ö–æ–¥–∞:
1.  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç `/start`.
2.  –ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–æ–ª—å. –ï—Å–ª–∏ —Ä–æ–ª–∏ –Ω–µ—Ç ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä—Ç–æ–≤–æ–µ –º–µ–Ω—é:
    - –ö–Ω–æ–ø–∫–∞ **"üì± –Ø –≥–æ—Å—Ç—å (–ù–∞–π—Ç–∏ –±—Ä–æ–Ω—å)"** (Request Contact).
    - –ö–Ω–æ–ø–∫–∞ "üìû –°–≤—è–∑–∞—Ç—å—Å—è —Å –∞–¥–º–∏–Ω–æ–º".
3.  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É –∏ –¥–µ–ª–∏—Ç—Å—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–º.
4.  **Backend:**
    - –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (—É–¥–∞–ª—è–µ—Ç `+`, `(`, `)`, `-`).
    - –ò—â–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ `bookings` –∞–∫—Ç–∏–≤–Ω—ã–µ –±—Ä–æ–Ω–∏ (`CONFIRMED`, `PAID`) —Å –ø–æ—Ö–æ–∂–∏–º –Ω–æ–º–µ—Ä–æ–º.
5.  **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
    - *–ù–∞–π–¥–µ–Ω–æ:* –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç —Ä–æ–ª—å `GUEST`, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `user.name` –∏ `user.phone`. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–µ–Ω—é –≥–æ—Å—Ç—è.
    - *–ù–µ –Ω–∞–π–¥–µ–Ω–æ:* "–ë—Ä–æ–Ω—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞. –ï—Å–ª–∏ –≤—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–ª–∏ —á–µ—Ä–µ–∑ Avito, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–æ–º–µ—Ä —Å–æ–≤–ø–∞–¥–∞–µ—Ç..."

## 2. –ú–µ–Ω—é –ì–æ—Å—Ç—è (–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ–ª–∂–µ–Ω –º–µ–Ω—è—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –±—Ä–æ–Ω–∏.

### –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:
- **üè† –ú–æ—è –±—Ä–æ–Ω—å**: –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–µ–∫—É—â–µ–π/–ø—Ä–µ–¥—Å—Ç–æ—è—â–µ–π –±—Ä–æ–Ω–∏.
- **üó∫ –ö–∞–∫ –¥–æ–±—Ä–∞—Ç—å—Å—è**: –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è + —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ/—Ñ–æ—Ç–æ.
- **‚ÑπÔ∏è –ü—Ä–∞–≤–∏–ª–∞ –¥–æ–º–∞**: PDF –∏–ª–∏ —Ç–µ–∫—Å—Ç.
- **üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞**: –ö–æ–Ω—Ç–∞–∫—Ç—ã –∞–¥–º–∏–Ω–∞.

### –ö–∞—Ä—Ç–æ—á–∫–∞ –±—Ä–æ–Ω–∏ (–î–µ—Ç–∞–ª–∏):
- **–°—Ç–∞—Ç—É—Å:** `–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã` | `–û–ø–ª–∞—á–µ–Ω–æ` | `–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ`.
- **–î–∞—Ç—ã:** –ó–∞–µ–∑–¥ ‚Äî –í—ã–µ–∑–¥.
- **–§–∏–Ω–∞–Ω—Å—ã:**
  - –¶–µ–Ω–∞: 10 000—Ä
  - –û–ø–ª–∞—á–µ–Ω–æ: 3 000—Ä
  - **–ö –¥–æ–ø–ª–∞—Ç–µ: 7 000—Ä** (–û—Å–æ–±—ã–π –∞–∫—Ü–µ–Ω—Ç).
- **–î–µ–π—Å—Ç–≤–∏—è (–ö–Ω–æ–ø–∫–∏):**
  - `[üí≥ –û–ø–ª–∞—Ç–∏—Ç—å –æ—Å—Ç–∞—Ç–æ–∫]` (–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –∏–ª–∏ —Å—Å—ã–ª–∫—É).
  - `[üîë –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞—Å–µ–ª–µ–Ω–∏—é]` (–ê–∫—Ç–∏–≤–Ω–∞ —Ç–æ–ª—å–∫–æ –∑–∞ 24—á –¥–æ –∑–∞–µ–∑–¥–∞ –∏ –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å PAID/CONFIRMED).
  - `[üì∂ Wi-Fi]` (–ê–∫—Ç–∏–≤–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ –¥–∞—Ç—ã –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è).

## 3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ü—Ä–∞–≤–∏–ª–∞
–í–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ —Ö–∞–æ—Å–∞:
1.  **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ì–æ—Å—Ç—å **–ù–ï –º–æ–∂–µ—Ç** –º–µ–Ω—è—Ç—å –¥–∞—Ç—ã –∏–ª–∏ –∫–æ–ª-–≤–æ –≥–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –±–æ—Ç–∞. –¢–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–∞ "–°–≤—è–∑–∞—Ç—å—Å—è —Å –∞–¥–º–∏–Ω–æ–º".
2.  **–û—Ç–º–µ–Ω–∞:**
    - –ö–Ω–æ–ø–∫–∞ `[üö´ –û—Ç–º–µ–Ω–∏—Ç—å –±—Ä–æ–Ω—å]`.
    - –õ–æ–≥–∏–∫–∞: –ï—Å–ª–∏ –¥–æ –∑–∞–µ–∑–¥–∞ > 7 –¥–Ω–µ–π ‚Äî –∞–≤—Ç–æ-–æ—Ç–º–µ–Ω–∞ (—Å–æ —Å–º–µ–Ω–æ–π —Å—Ç–∞—Ç—É—Å–∞). –ï—Å–ª–∏ < 7 –¥–Ω–µ–π ‚Äî "–°–≤—è–∂–∏—Ç–µ—Å—å —Å –∞–¥–º–∏–Ω–æ–º –¥–ª—è –æ—Ç–º–µ–Ω—ã (–≤–æ–∑–º–æ–∂–µ–Ω —à—Ç—Ä–∞—Ñ)".
3.  **–î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º:** –í–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ *—Å–≤–æ–∏* –±—Ä–æ–Ω–∏ (–ø–æ–≤—è–∑–∫–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É).

## 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Notification Service (–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
–ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–æ–∑–¥–∞–Ω–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –¥–≤–∏–∂–æ–∫.

| –ü—Ä–∞–≤–∏–ª–æ | –°–º–µ—â–µ–Ω–∏–µ | –°–æ–±—ã—Ç–∏–µ | –°–æ–æ–±—â–µ–Ω–∏–µ |
| :--- | :--- | :--- | :--- |
| **GuestWelcome** | -2 –¥–Ω—è (–¥–æ –∑–∞–µ–∑–¥–∞) | `check_in` | "–ñ–¥–µ–º –≤–∞—Å —á–µ—Ä–µ–∑ 2 –¥–Ω—è! üèï\n–ù–∞–ø–æ–º–∏–Ω–∞–µ–º: –∑–∞–µ–∑–¥ —Å 14:00. –í–Ω–µ—Å–∏—Ç–µ –æ—Å—Ç–∞—Ç–æ–∫..." |
| **GuestCheckIn** | 0 –¥–Ω–µ–π (—Å–µ–≥–æ–¥–Ω—è) | `check_in` | "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! üîë\n–ö–æ–¥ –æ—Ç –∫–µ–π–±–æ–∫—Å–∞: 1234\nWi-Fi: ..." |
| **GuestCheckOut** | -1 —á–∞—Å (–¥–æ –≤—ã–µ–∑–¥–∞) | `check_out` | "–ù–∞–¥–µ–µ–º—Å—è, –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å! ü§ó\n–ù–∞–ø–æ–º–∏–Ω–∞–µ–º: –≤—ã–µ–∑–¥ –¥–æ 12:00. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–∫—Ä–æ–π—Ç–µ –æ–∫–Ω–∞." |

## 5. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–ü–ª–∞–Ω)
1.  **DB:** –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `user_id` (FK) –≤ —Ç–∞–±–ª–∏—Ü—É `bookings` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∂–µ—Å—Ç–∫–æ–π —Å–≤—è–∑–∫–∏) –ò–õ–ò –∏—Å–∫–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É. *–†–µ—à–µ–Ω–∏–µ: –õ—É—á—à–µ –∏—Å–∫–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ + –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Å–≤—è–∑—å –≤ —Ç–∞–±–ª–∏—Ü–µ Users.*
2.  **Auth:** –•–µ–Ω–¥–ª–µ—Ä –¥–ª—è `content_type=contact`.
3.  **Menu:** –ù–æ–≤—ã–π —Ñ–∞–π–ª `guest_menu.py`.
4.  **Notifications:** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –≤ `NotificationService`.
